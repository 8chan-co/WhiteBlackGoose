<html><title>Pass - password manager for geeks</title><head><link rel="icon" type="image/png" href="https://avatars.githubusercontent.com/u/31178401"><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Overpass+Mono"><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Ubuntu+Mono"><style>@media (prefers-color-scheme: light) {
body {
background: rgb(230, 230, 230);
color: #333;
}
a {
color: #333;
}
.code-inline {
background: lightgray;
}

}@media (prefers-color-scheme: dark) {
body {
background: rgb(30, 30, 30);
color: #BBB;
}
a {
color: #BBB;
}
.code-inline {
background: #333;
}

}.code-inline {
font-family: mono;
padding: 2px;
border-radius: 4px;
}
.header h1 {
margin: 0 auto;
}
a {
text-decoration-line: underline;
text-decoration-style: solid;
text-decoration-color: gray;
}
.article-body {
font-family: Overpass Mono;
padding: 60px;
padding-left: 20%;
padding-right: 20%;
line-height: 1.7;
}
hr {
width: 20%;
background-color: gray;
border: 0.5px solid gray;
}
</style></head><body><header style="padding: 12px; color: gray;">WhiteBlackGoose' website <span style="color: gray;">|</span> <a href="../../">Home</a> <span style="color: gray;">|</span> <a href="..">Up</a> <span style="color: gray;">|</span> <a href="https://github.com/WhiteBlackGoose/WhiteBlackGoose/blob/master/www/blog/pass/index.fs">Edit</a> <span style="color: gray;">|</span> The content is under CC BY-NC 4.0 and source code is under GPLv3</header><div class="article-body"><h1>Pass - password manager for geeks</h1><h2><a href="#why" name="why" style="fill: gray;"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Why?</h2><p><ul><li>✅ CLI interface only, no need for GUI</li><li>✅ Works natively on Unix-like systems</li><li>✅ Has many clients for mainstream OS</li><li>✅ Only famous FOSS tools (used utils: <span class="code-inline">git</span>, <span class="code-inline">pass</span>, <span class="code-inline">gpg</span>, <span class="code-inline">openssh</span>, <span class="code-inline">passphrase2pgp</span>)</li><li>✅ No Google/Facebook account or other BS integration, your credentials are yours and stored by you on your computer</li><li>✅ Knowing your primary password is not enough to access your passwords</li><li>✅ Still can sync among devices</li><li>✅ You control where your backup stored (and it's encrypted too)</li><li>❌ That's 100x more complicated to set up than most crappy password managers you'd find on the internet</li></ul></p><h2><a href="#intro" name="intro" style="fill: gray;"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. Intro to pass</h2><p>This <a href="https://www.passwordstore.org/">tool</a> provides an amazingly easy-to-use interface. Available for most major Unix-like operating systems (basically every desktop OS except Windows).</p><p>Install it how it's shown in the website.</p><p>Get started:<ul><li><span class="code-inline">gpg --full-generate-key</span> to generate key using GPG. In the end it will return something like <span class="code-inline">myname <mymail@quack.org></span>, remember this, it's your <i>Key ID</i>. Let it be <span class="code-inline">user1</span> for now (assuming you skipped mail). You will be asked to input a passphrase - that's what your private key will be decrypted with, make sure to remember it!</li><li><span class="code-inline">pass init user1</span> inits your password store (input the key ID from the previous step).</li><li><span class="code-inline">pass insert website/username</span> creates a prompt where you input your password.</li><li><span class="code-inline">pass website/username</span> retrieves it. <span class="code-inline">pass -c website/username</span> retrives it into clipboard.</li></ul></p><p>Now, there are two approaches:<ul><li><a href="#another-user">Syncing with another user</a></li><li><a href="#another-comp">Syncing with another computer</a></li></ul></p><h2><a href="#another-user" name="another-user" style="fill: gray;"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. How to sync your passwords with a new user?</h2><h3><a href="#git" name="git" style="fill: gray;"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2.1 Set up git</h3><p><ol><li>Install <span class="code-inline">git</span></li><li>Init repo: <span class="code-inline">pass git init</span></li><li>If you want to use <span class="code-inline">github</span> to sync:<ol><li>I highly recommend using an SSH key as access token<ol><li>Set your username: <span class="code-inline">git --global user.name User1</span></li><li>Set your email: <span class="code-inline">git --global user.email user@quack.org</span></li><li>Generate an SSH keypair with ssh-keygen</li><li>Copy the content of the public key (e. g. <span class="code-inline">cat ~/.ssh/id_rsa.pub | xclip -sel clip</span>)</li><li>Go to github.com -> settings -> SSH keys -> new SSH key, copy the key into the text area and save</li></ol></li><li>Create an empty repo</li><li>Locally do <span class="code-inline">pass git remote add github git@github.com:user1/myrepo.git</span> (you don't have to name it <span class="code-inline">github</span>, of course)</li><li><span class="code-inline">pass git push github master</span></li></ol></li><li>If you want to use your local server to sync:<ol><li>Assuming you access it over ssh</li><li>Create a repo on your remote server this way: <span class="code-inline">git init --bare pass-repo</span></li><li>Locally do <span class="code-inline">pass git remote add home ssh://user1@your-ip:your-ssh-port/path/to/pass-repo</span></li><li><span class="code-inline">pass git push home master</span></li></ol></li></ol></p><p>I personally use both. Your passwords can only decrypted using your private keys that <b>you never send</b> to anyone. We can sync your passwords without them. As for now, we set up git, let's proceed by adding another device.</p><h3><a href="#add-comp" name="add-comp" style="fill: gray;"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2.2 Add new computer</h3><p>Let your current computer be <span class="code-inline">A</span> and the new one is <span class="code-inline">B</span>.</p><p><ol><li>Key setup<ol><li>Generate a new GPG key on computer <span class="code-inline">B</span> with a <b>different</b> key ID (<span class="code-inline">gpg --full-generate-key</span>)</li><li>Export <b>public</b> key, e. g. <span class="code-inline">gpg --export "user2" > pub.k</span> and copy <span class="code-inline">user2.pub</span> to computer <span class="code-inline">A</span></li><li>Export <b>public</b> key of computer <b>A</b> to computer <span class="code-inline">B</span> (like step 2-3, but the other way around)</li><li>On computer <span class="code-inline">A</span>, import this key: <span class="code-inline">gpg --import user2.pub</span></li></ol></li><li>Reencrypt everthing on computer <span class="code-inline">A</span>: <span class="code-inline">pass init "user1" "user2"</span></li><li>Push<ol><li>If you sync with github: <span class="code-inline">pass git push github master</span></li><li>If you sync with your local computer: <span class="code-inline">pass git push home master</span></li></ol></li><li>Init the password store and git repo on computer <span class="code-inline">B</span> (<span class="code-inline">pass init "user1" "user2" && pass git init</span>)</li><li>Add remote (same as in <b>2.1</b>)<ol><li>For github: <span class="code-inline">pass git remote add github https://github.com/user1/myrepo</span></li><li>For local computer: `pass git remote add home ssh://user1@your-ip:your-ssh-port/path/to/pass-repo</li></ol></li><li>Reset to it (<span class="code-inline">pass git reset --hard github/master</span> for github and <span class="code-inline">pass git reset --hard home/master</span> for home server)</li></ol></p><p>Done. You can now retrieve passwords and sync them between two computers, see how simple & user-friendly it all is?</p><h2><a href="#another-comp" name="another-comp" style="fill: gray;"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. How to sync your passwords with your other computer?</h2><p>Sending private keys is a security thread. That is why the recommended approach is always to generate a new keypair on a new device and add its public key to the list of "trusted" keys.</p><p>However, it is of course inconvenient. It is also not very reliable, because you will lose all your encrypted data.</p><p>That is why we're taking the middle ground. We do NOT transfer private keys over network, but we generate then deterministically. That means, that all you need to remember is <b>how</b> you generated that key. Then, you will be able to recover access to your data from any device even if all devices you had are lost.</p><p><ol><li>Install <a href="https://github.com/skeeto/passphrase2pgp">passphrase2pgp</a> on both computers, it allows to create deterministic keys</li><li>Create keys<ol><li>Make up some <i>very</i> secret passphrase. It should be long and stored somewhere very secure. This will be a generation seed for your keys</li><li>Run <span class="code-inline">passphrase2pgp --subkey --protect=2 --uid "user-d" | gpg --import</span><ul><li>It will ask you for a passphrase - input the one you made it twice</li><li>It will then ask you about <span class="code-inline">passphrase [protection]</span> - it's the password you're going to write whenever you access your passwords/gpg files</li><li><span class="code-inline">--subkey</span> is needed to encrypt and decrypt. <span class="code-inline">--protect=2</span> is needed to create a generation passphrase different from the protection one</li></ul></li><li>Same way generate them on the other computer (using the same passphrase, but don't transfer it over network)</li></ol></li><li>Re-init <span class="code-inline">pass</span> using new Key ID (you can keep the old key ID)<ol><li><span class="code-inline">pass init "user1" "user-d"</span></li><li>That allows to keep your old key ID just in case, but it's also now encrypted with deterministic key</li></ol></li><li>Push your changes, pull to another computer, test</li></ol></p><p>Push your changes, pull to another computer, test</p><h2><a href="#mobile" name="mobile" style="fill: gray;"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. Access & add passwords from your android phone</h2><p><ol><li>Install <a href="https://github.com/android-password-store/Android-Password-Store#readme">Password Store</a></li><li>Install <a href="https://www.openkeychain.org">OpenkeyChain</a></li><li>Open Password Store app, generate SSH and GPG keys (make sure to encrypt both)</li><li>Upload your <b>public</b> SSH key to github or whatever your remote server is</li><li>Upload your GPG key to your PC and re-encrypt your passwords by adding your newly generated key<ol><li>E. g. <span class="code-inline">pass init "johny-pc <johny@member.fsf.org>"</span> -> <span class="code-inline">pass init "johny-pc <johny@member.fsf.org>" "johny-phone <johny@member.fsf.org>"</span></li><li>Sync from your PC to remote server</li></ol></li><li>Sync from remote server</li><li>You're set</li></ol></p><h2><a href="#faq" name="faq" style="fill: gray;"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>FAQ</h2><p><ul><li><p><b>Q</b>: But wait, what <b>if</b> the hacker somehow stole one of my devices with this private key. Then he will access to the most important key that I deterministically generated, and thus, all data!</p><p><b>A</b>: Yes. But even if you generate the key randomly on every new device, the hacker will access the data the same way. It is important to encrypt the private key itself, but if the hacker somehow got access to private key, encryption passphrase, and the repo with passwords - it's over. At least, in my setup. </p></li><li><p><b>Q</b>: Why not KeePassXc, BitWarden, and alike?</p><p><b>A</b>: First of all I should say, that these are great options. They both are free and self-hosted. But I prefer <span class="code-inline">pass</span>. </p><p><span class="code-inline">pass</span> follows Unix philosophy, as it is entirely modular. It is originally just a small bash script, which utilizes GnuPG, tree, and git. That means, you're entirely free to replace those "dependencies" with whatever you like. It also means that you're not really <i>dependent</i> on <span class="code-inline">pass</span>, because the generated "key database" is literally a folder with .gpg files and a file with Key IDs listed. So you can decrypt your passwords without <span class="code-inline">pass</span>. Thanks to its modularity, it is very easy to write a <span class="code-inline">pass</span> client for any OS. As a result, we got clients for all OS, even iOS.</p></li><li><p><b>Q</b>: What are advantages over other password managers in terms of security?</p><p><b>A</b>: Assymetric encryption. Unlike most if not all other password managers, this one allows you to encrypt files assymetrically - it means, that even having both your primary password <i>and</i> the folder with encrypted passwords, nobody will be able to access them. So unlike regular pw managers, there are three components in your password workflow: folder with passwords, private key, password from the key. It is necessary to have all three components to unlock a password. </p></li></ul></p></div><footer style="padding: 12px; color: gray;">WhiteBlackGoose' website <span style="color: gray;">|</span> <a href="../../">Home</a> <span style="color: gray;">|</span> <a href="..">Up</a> <span style="color: gray;">|</span> <a href="https://github.com/WhiteBlackGoose/WhiteBlackGoose/blob/master/www/blog/pass/index.fs">Edit</a> <span style="color: gray;">|</span> The content is under CC BY-NC 4.0 and source code is under GPLv3</footer></body></html>